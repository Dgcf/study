<html>
<head>
  <title>编程规范</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/604043 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="523"/>
<h1>编程规范</h1>

<div>
<span><div><div><div><div><span style="font-size: 10pt; font-family: Georgia;">谷歌C++风格指南：</span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/contents/" style="font-size: 10pt; font-family: Georgia;">https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/contents/</a></div><div><span style="font-family: Georgia;">编码规则：</span></div><ul><li><div><span style="font-size: 10pt; font-family: Georgia;">开闭原则：软件对扩展是开放的，对修改是关闭的</span></div></li><li><div><span style="font-size: 10pt; font-family: Georgia;">防御式编程：简单的说就是程序不能崩溃</span></div></li><li><div><span style="font-size: 10pt; color: unset; font-family: Georgia;">里氏代换原则：子类型必须能够替代他们的基类型</span></div></li></ul><div><br/></div><div><span style="font-family: Georgia;"><font style="font-size: 11pt;"><span style="font-size: 11pt; font-family: Georgia; font-weight: bold;">头文件</span></font>：</span></div><ul><li><div><span style="font-family: Georgia;">self-contained头文件： 用来插入文本的文件，说到底它们并不是头文件，所以应以 .inc 结尾——？</span></div></li><li><div><span style="font-size: unset;"><span style="font-size: unset; color: unset; font-family: Georgia;">define保护：</span></span><span style="font-size: unset; color: unset; font-family: unset;">所有头文件都应该使用 #define 来防止头文件被多重包含, 命名格式当是: &lt;PROJECT&gt;_&lt;PATH&gt;_&lt;FILE&gt;_H_ .</span><span style="font-size: unset; color: unset; font-family: unset;">为保证唯一性, 头文件的命名应该基于所在项目源代码树的全路径. 例如, 项目 foo 中的头文件 foo/src/bar/baz.h 可按如下方式保护:</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>#ifndef FOO_BAR_BAZ_H_</div><div>#define FOO_BAR_BAZ_H_</div><div>...</div><div>#endif // FOO_BAR_BAZ_H_</div></div><ul><li><div>前置声明： <font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">尽可能地避免使用前置声明。使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">#include</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">包含需要的头文件即可。</span></font></div></li><ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">优点：</span></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">前置声明能够节省编译时间，多余的</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">#include</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">会迫使编译器展开更多的文件，处理更多的输入。</span></font></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">前置声明能够节省不必要的重新编译的时间。</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">#include</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">使代码因为头文件中无关的改动而被重新编译多次。——有利有弊，如下面的缺点</span></font></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺点：</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">前置声明隐藏了依赖关系，头文件改动时，用户的代码会跳过必要的重新编译过程。</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">前置声明可能会被库的后续更改所破坏。前置声明函数或模板有时会妨碍头文件开发者变动其 API. 例如扩大形参类型，加个自带默认参数的模板形参等等。</span></span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">很难判断什么时候该用前置声明，什么时候该用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">#include</span></font></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">前置声明了不少来自头文件的 symbol 时，就会比单单一行的</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">include</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">冗长。</span></font></div></li></ul></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">内联函数：</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不要内联超过 10 行的函数. 谨慎对待析构函数, 析构函数往往比其表面看起来要更长, 因为有隐含的成员和基类析构函数被调用</span></span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">内联那些包含循环或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">switch</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">语句的函数常常是得不偿失——？</span></font></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">有些函数即使声明为内联的也不一定会被编译器内联, 这点很重要; 比如虚函数和递归函数就不会被正常内联. 通常, 递归函数不应该声明成内联函数</span></span></div></li></ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">#include路径</span><span style="font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">次序如下</span><span style="font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">：</span></font></div></li></ul><div><blockquote><div><ol><li><div>dir2/foo2.h (优先位置, 详情如下)</div></li><li><div>C 系统文件</div></li><li><div>C++ 系统文件</div></li><li><div>其他库的 .h 文件</div></li><li><div>本项目内 .h 文件</div></li></ol></div></blockquote></div></div><div><span style="font-size: 11pt; font-family: Georgia; font-weight: bold;">作用域</span>：</div><ul><li><div><span style="font-size: 10pt; font-family: Georgia;">局部变量：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">在尽可能小的作用域中声明变量, 离第一次使用越近越好；</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">应使用初始化的方式替代声明再赋值，</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 237, 204); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">有一个例外, 在循环作用域中，如果变量是一个对象, 每次进入作用域都要调用其构造函数, 每次退出作用域都要调用其析构函数. 这会导致效率降低.</span></div></li><li><div><span style="font-size: 10pt; font-family: Georgia;">匿名命名空间和静态变量：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">所有置于匿名命名空间的声明都具有内部链接性，函数和变量可以经由声明为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">static</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">拥有内部链接性，这意味着你在这个文件中声明的这些标识符都不能在另一个文件中被访问。即使两个文件声明了完全一样名字的标识符，它们所指向的实体实际上是完全不同的。结论是：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">推荐、鼓励在</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.cc</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">中对于不需要在其他地方引用的标识符使用内部链接性声明，但是不要在</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.h</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">中使用。</span></div></li><li><div><span style="font-size: 10pt; font-family: Georgia;">非成员函数，静态成员函数和全局函数：</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244);"><span style="background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">使用静态成员函数或命名空间内的非成员函数, 尽量不要用裸的全局函数.</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244);"><span style="background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">将一系列函数直接置于命名空间中，不要用类的静态方法模拟出命名空间的效果（？），类的静态方法应当和类的实例或静态数据紧密相关.</span></span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">所以如果必须定义非成员函数, 又只是在</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">.cc</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">文件中使用它, 可使用匿名</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/scoping/#namespaces" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(155, 89, 182); font-variant-caps: normal; font-variant-ligatures: normal;">命名空间</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">static</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">链接关键字 (如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">static</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">int</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">Foo()</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">{...}</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">) 限定其作用域.</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>// 应为：</div><div>namespace myproject {</div><div>namespace foo_bar {</div><div>void Function1();</div><div>void Function2();</div><div>}  // namespace foo_bar</div><div>}  // namespace myproject</div><div>// 而非：</div><div>namespace myproject {</div><div>class FooBar {</div><div>public:</div><div>  static void Function1();</div><div>  static void Function2();};</div><div>}  // namespace myproject</div></div><ul><li><div>静态和全局变量：</div></li><ul><li><div>静态生存 <font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">周期的对象，即包括了全局变量，静态变量，静态类成员变量和函数静态变量，都必须是原生数据类型 (POD : Plain Old Data): 即 int, char 和 float, 以及 POD 类型的指针、数组和结构体</span></font></div></li><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">静态变量的构造函数、析构函数和初始化的顺序在 C++ 中是只有部分明确的，甚至随着构建变化而变化，导致难以发现的 bug. 所以除了禁用类类型的全局变量，我们也不允许用函数返回值来初始化 POD 变量，除非该函数（如 getenv() 或 getpid() ）不涉及任何全局变量。函数作用域里的静态变量除外，毕竟它的初始化顺序是有明确定义的，而且只会在指令执行到它的声明那里才会发生。（ 同一个编译单元内是明确的，静态初始化优先于动态初始化，初始化顺序按照声明顺序进行，销毁则逆序。不同的编译单元之间初始化和销毁顺序属于未明确行为） 同理，全局和静态变量在程序中断时会被析构，无论所谓中断是从 main() 返回还是对 exit() 的调用。析构顺序正好与构造函数调用的顺序相反。但既然构造顺序未定义，那么析构顺序当然也就不定了。 综上所述，我们只允许 POD 类型的静态变量，即完全禁用 vector (使用 C 数组替代) 和 string (使用 const char [])。 如果您确实需要一个 class 类型的静态或全局变量，可以考虑在 main() 函数或 pthread_once() 内初始化一个指针且永不回收。注意只能用 raw 指针，别用智能指针，毕竟后者的析构函数涉及到上文指出的不定顺序问题。</span></div></li></ul></ul><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-family: Georgia; font-weight: bold;">函数</span></font><span style="font-size: 10pt; font-family: Georgia;">：</span></div><ul><li><div><span style="font-size: 10pt; font-family: Georgia;">参数顺序：输入参数在先，后跟输出参数。</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">在加入新参数时不要因为它们是新参数就置于参数列表最后, 而是仍然要按照前述的规则</span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">编写简短, 凝练的函数，</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">如果函数超过 40 行, 可以思索一下能不能在不影响程序结构的前提下对其进行分割</span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">所有按引用传递的参数必须加上</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">。</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">事实上这在 Google Code 是一个硬性约定: 输入参数是值参或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">引用, 输出参数为指针. 输入参数可以是</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">指针, 但决不能是非</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">的引用参数, 除非特殊要求, 比如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">swap()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">.——这是为什么？</span></font></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺省参数：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">只允许在非虚函数中使用缺省参数, 且必须保证缺省参数的值始终一致。</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">对于虚函数, 不允许使用缺省参数, 因为在虚函数中缺省参数不一定能正常工作.</span></div></li></ul><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-family: Georgia; font-weight: bold;">类：</span></font></div><ul><li><div><span style="background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">构造函数的职责：不要在构造函数中调用虚函数, 也不要在无法报出错误时进行可能失败的初始化.</span></span></div></li><ol><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺点：</span></div></li><ol><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">在没有使程序崩溃 (因为并不是一个始终合适的方法) 或者使用异常 (因为已经被</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/others/#exceptions" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(155, 89, 182); font-variant-caps: normal; font-variant-ligatures: normal;">禁用</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">了) 等方法的条件下, 构造函数很难上报错误</span></font></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">如果执行失败, 会得到一个初始化失败的对象, 这个对象有可能进入不正常的状态, 必须使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">bool</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">IsValid()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">或类似这样的机制才能检查出来, 然而这是一个十分容易被疏忽的方法.</span></font></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">构造函数的地址是无法被取得的, 因此, 举例来说, 由构造函数完成的工作是无法以简单的方式交给其他线程的.</span></span></div></li></ol><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">结论：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">构造函数不允许调用虚函数. 如果代码允许, 直接终止程序是一个合适的处理错误的方式. 否则, 考虑用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">Init()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">方法或工厂函数.</span></div></li></ol><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">隐式类型转换：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不要定义隐式类型转换. 对于转换运算符和单参数构造函数, 请使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">explicit</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">关键字.</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">用法：</span> <span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">explicit</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">关键字可以用于构造函数或 (在 C++11 引入) 类型转换运算符, 以保证只有当目的类型在调用点被显式写明时才能进行类型转换</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">结论：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">在类型定义中, 类型转换运算符和单参数构造函数都应当用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">explicit</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">进行标记. 一个例外是, 拷贝和移动构造函数不应当被标记为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">explicit</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 因为它们并不执行类型转换。</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不能以一个参数进行调用的构造函数不应当加上</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">explicit</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">. 接受一个</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">std::initializer_list</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">作为参数的构造函数也应当省略</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">explicit</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 以便支持拷贝初始化 (例如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">MyType</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">m</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">=</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">{1,</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">2};)</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span></div></li></ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">可拷贝类型和可移动类型：</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">如果类型需要, 就让它们支持拷贝 / 移动. 否则, 就把隐式产生的拷贝和移动函数禁用.</span></span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">struct vs class：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">仅当只有数据成员时使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">struct</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 其它一概使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">class</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">. </span> <span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">struct</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">用来定义包含数据的被动式对象, 也可以包含相关的常量</span></div></li><li><div><span style="font-size: 10pt; font-family: Georgia;">继承：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">使用组合常常比使用继承更合理. 如果使用继承的话, 定义为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">public</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">继承.</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">多重继承：真正用到多重继承的情况少之又少；只有在以下情况下才允许使用多重继承：</span><span style="font-size: 10pt; color: rgb(235, 0, 115); font-family: Georgia;">最多只有一个基类是非抽象类；其他基类都是以</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">Interface</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="font-size: 10pt; color: rgb(235, 0, 115); font-family: Georgia;">为后缀的纯接口类；</span></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">结论：只有当所有父类除第一个外都是</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/classes/#interface" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(155, 89, 182); font-variant-caps: normal; font-variant-ligatures: normal;">纯接口类</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">时, 才允许使用多重继承. 为确保它们是纯接口, 这些类必须以</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">Interface</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">为后缀.</span></font></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">接口：</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">运算符重载：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">除少数特定环境外, 不要重载运算符. 也不要创建用户定义字面量。</span> <font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不要重载</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">&amp;&amp;</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">||</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或一元运算符</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">&amp;</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">. 不要重载</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">operator&quot;&quot;</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 也就是说, 不要引入用户定义字面量.</span></font></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">存取控制：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">将</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal;">所有</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">数据成员声明为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">private</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 除非是</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">static</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">类型成员</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">声明顺序：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">将相似的声明放在一起, 将</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">public</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">部分放在最前。</span><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">说明：</span></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">类定义一般应以</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);"> </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">public:</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);"> </span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">开始, 后跟</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);"> </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">protected:</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">, 最后是</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);"> </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">private:</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">. 省略空部分.</span></font></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">在各个部分中, 建议将类似的声明放在一起, 并且建议以如下的顺序: 类型 (包括</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">typedef</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">using</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">和嵌套的结构体与类), 常量, 工厂函数, 构造函数, 赋值运算符, 析构函数, 其它函数, 数据成员.</span></font></div></li></ul></ul><div><font style="font-size: 11pt;"><span style="font-size: 11pt; font-weight: bold;">其他C++特性</span></font>：</div></div><ul><li><div>右值引用：只在定义移动构造函数与移动赋值操作时使用右值引用. 不要使用<font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">std::forward</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span></font></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺点：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">右值引用是一个相对比较新的特性 (由 C++11 引入), 它尚未被广泛理解. 类似引用崩溃, 移动构造函数的自动推导这样的规则都是很复杂的.</span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">尽量不使用函数重载</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">异常：不使用异常；对于到底需不需要使用异常，参考：</span> <a href="https://www.zhihu.com/question/22889420" style="font-family: Georgia;">https://www.zhihu.com/question/22889420</a></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">优点：</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">异常是处理构造函数失败的唯一途径</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">有些第三方库依赖异常，禁用异常就不好用了</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">在测试框架很有用</span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺点（还需整理）</span></div></li><ul><li><div>在现有函数中添加 <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">throw</span> 语句时，必须检查所有调用点。要么让所有调用点统统具备最低限度的异常安全保证，要么眼睁睁地看异常一路欢快地往上跑，最终中断掉整个程序。举例，<span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">f()</span> 调用 <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">g()</span>, <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">g()</span> 又调用 <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">h()</span>, 且 <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">h</span> 抛出的异常被 <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">f</span> 捕获。当心 <span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">g</span>, 否则会没妥善清理好。</div></li><li><div><span style="font-size: unset; color: unset; font-family: unset;">还有更常见的，异常会彻底扰乱程序的执行流程并难以判断，函数也许会在您意料不到的地方返回。您或许会加一大堆何时何处处理异常的规定来降低风险，然而开发者的记忆负担更重了。</span></div></li><li><div><span style="font-size: unset; color: unset; font-family: unset;">异常安全需要RAII和不同的编码实践. 要轻松编写出正确的异常安全代码需要大量的支持机制. 更进一步地说, 为了避免读者理解整个调用表, 异常安全必须隔绝从持续状态写到 “提交” 状态的逻辑. 这一点有利有弊 (因为你也许不得不为了隔离提交而混淆代码). 如果允许使用异常, 我们就不得不时刻关注这样的弊端, 即使有时它们并不值得.</span></div></li><li><div><span style="font-size: unset; color: unset; font-family: unset;">启用异常会增加二进制文件数据，延长编译时间（或许影响小），还可能加大地址空间的压力。</span></div></li><li><div><span style="font-size: unset; color: unset; font-family: unset;">滥用异常会变相鼓励开发者去捕捉不合时宜，或本来就已经没法恢复的「伪异常」。比如，用户的输入不符合格式要求时，也用不着抛异常。如此之类的伪异常列都列不完。</span></div></li></ul></ul><li><div><span style="font-size: 10pt; font-family: Georgia;">运行时类型识别：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">RTTI 允许程序员在运行时识别 C++ 类对象的类型. 它通过使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">typeid</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或者</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">dynamic_cast</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">完成.</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">优点：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">RTTI 在某些单元测试中非常有用. 比如进行工厂类测试时, 用来验证一个新建对象是否为期望的动态类型. RTTI 对于管理对象和派生对象的关系也很有用.</span></span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺点：</span></div></li><ul><li><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 24px;">在运行时判断类型通常意味着设计问题. 如果你需要在运行期间确定一个对象的类型, 这通常说明你需要考虑重新设计你的类.</span></span></div></li><li><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 24px;">随意地使用 RTTI 会使你的代码难以维护. 它使得基于类型的判断树或者 switch 语句散布在代码各处. 如果以后要进行修改, 你就必须检查它们.</span></div></li></ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">结论：RTTI 有合理的用途但是容易被滥用, 因此在使用时请务必注意. 在单元测试中可以使用 RTTI, 但是在其他代码中请尽量避免. 尤其是在新代码中, 使用 RTTI 前务必三思. 如果你的代码需要根据不同的对象类型执行不同的行为的话, 请考虑用以下的两种替代方案之一查询类型:</span><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;"> </span></div></li><ul><li><div><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;">*</span><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;">虚函数可以根据子类类型的不同而执行不同代码. 这是把工作交给了对象本身去处理.</span></div></li><li><div><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;">如果这一工作需要在对象之外完成, 可以考虑使用双重分发的方案, 例如使用访问者设计模式. 这就能够在对象之外进行类型判断.</span></div></li><li><div><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;">如果程序能够保证给定的基类实例实际上都是某个派生类的实例, 那么就可以自由使用 dynamic_cast. 在这种情况下, 使用 dynamic_cast 也是一种替代方案.</span></div></li><li><div><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;">注意：基于类型的判断树是一个很强的暗示, 它说明你的代码已经偏离正轨了. 不要像下面这样:</span></div></li></ul></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>if (typeid(*data) == typeid(D1)) {</div><div>...} else if (typeid(*data) == typeid(D2)) {</div><div>...} else if (typeid(*data) == typeid(D3)) {...</div></div><ul><ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">一旦在类层级中加入新的子类, 像这样的代码往往会崩溃. 而且, 一旦某个子类的属性改变了, 你很难找到并修改所有受影响的代码块。</span><span style="font-size: unset; color: rgb(64, 64, 64); font-family: Georgia;">不要去手工实现一个类似 RTTI 的方案. 反对 RTTI 的理由同样适用于这些方案, 比如带类型标签的类继承体系. 而且, 这些方案会掩盖你的真实意图.</span></div></li></ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">类型转换：</span> <font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">使用 C++ 的类型转换, 如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">static_cast&lt;&gt;()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">. 不要使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">int</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">y</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">=</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">(int)x</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">int</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">y</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">=</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">int(x)</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">等转换方式</span></font></div></li><ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">优点：</span> <font style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">C 语言的类型转换问题在于模棱两可的操作; 有时是在做强制转换 (如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">(int)3.5</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">), 有时是在做类型转(如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">(int)&quot;hello&quot;</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">). 另外, C++ 的类型转换在查找时更醒目——？难道第一个不是强制类型转换</span></font></div></li><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">结论：</span></div></li><ul><li><div><span style="color: rgb(64, 64, 64); font-family: Georgia;">用 </span><span style="box-sizing: border-box; font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">static_cast</span> 替代 C 风格的值转换, 或某个类指针需要明确的向上转换为父类指针时.</div></li><li><div><span style="font-size: unset; color: unset; font-family: unset;">用 </span><span style="font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">const_cast</span><span style="font-size: unset; color: unset; font-family: unset;"> 去掉 </span><span style="font-size: 12px; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">const</span><span style="font-size: unset; color: unset; font-family: unset;"> 限定符.</span></div></li><li><div><span style="font-size: unset; color: unset; font-family: unset;">用 </span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 12px; white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); overflow-x: auto; color: rgb(231, 76, 60); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace;">reinterpret_cast</span><span style="font-size: unset; color: unset; font-family: unset;"> 指针类型和整型或其它指针之间进行不安全的相互转换. 仅在你对所做一切了然于心时使用.</span></div></li></ul></ul><li><div>流： <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">只在记录日志时使用流.</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">流用来替代</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">printf()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">和</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">scanf()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.——？不只是这两个吧，文件流，string流...</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">优点：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">有了流, 在打印时不需要关心对象的类型. 不用担心格式化字符串与参数列表不匹配 (虽然在 gcc 中使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">printf</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">也不存在这个问题). 流的构造和析构函数会自动打开和关闭对应的文件.</span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">缺点：流使得</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">pread()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">等功能函数很难执行. 如果不使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">printf</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">风格的格式化字符串, 某些格式化操作 (尤其是常用的格式字符串</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">%.*s</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">) 用流处理性能是很低的. 流不支持字符串操作符重新排序 (%1s), 而这一点对于软件国际化很有用.——？</span></font></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">结论：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不要使用流, 除非是日志接口需要. 使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: nowrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">printf</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: nowrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: nowrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">+</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: nowrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: nowrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">read/write</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">之类的代替.——主要还是从可读性，易出错性等方面来说的</span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">前置自增/自减：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">对简单数值 (非对象), 两种都无所谓. 对迭代器和模板类型, 使用前置自增 (自减).</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">const：</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">缺点：</span> <span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">是入侵性的: 如果你向一个函数传入</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">变量, 函数原型声明中也必须对应</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">参数 (否则变量需要</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const_cast</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">类型转换), 在调用库函数时显得尤其麻烦.</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">结论：</span> <span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">变量, 数据成员, 函数和参数为编译时类型检测增加了一层保障; 便于尽早发现错误. 因此强烈建议在任何可能的情况下使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">，</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">此外有时改用 C++11 推出的 constexpr 更好；</span> <span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">mutable</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">可以使用, 但是在多线程中是不安全的, 使用时首先要考虑线程安全.</span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">constexpr：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">在 C++11 里，用 constexpr 来定义真正的常量，或实现常量初始化。</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">变量可以被声明成 constexpr 以表示它是真正意义上的常量，即在编译时和运行时都不变。函数或构造函数也可以被声明成 constexpr, 以用来定义 constexpr 变量。</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">结论：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">靠 constexpr 特性，方才实现了 C++ 在接口上打造真正常量机制的可能。好好用 constexpr 来定义真常量以及支持常量的函数。避免复杂的函数定义，以使其能够与constexpr一起使用。 千万别痴心妄想地想靠 constexpr 来强制代码「内联」。</span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">整型：</span> <span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">&lt;stdint.h&gt;</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">定义了</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">int16_t</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">uint32_t</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">int64_t</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">等整型, 在需要确保整型大小时可以使用它们代替</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">short</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">unsigned</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">long</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">long</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">等. 在 C 整型中, 只使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">int</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">. 在合适的情况下, 推荐使用标准类型如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">size_t</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">和</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">ptrdiff_t</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span><font style="font-size: 10pt;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 24px;">对于大整数, 使用</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 24px;"> </span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: nowrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 24px;">int64_t</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 24px;">.</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; line-height: 24px;">不要使用</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; line-height: 24px;"> </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; line-height: 24px;">uint32_t</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; line-height: 24px;"> </span><span style="font-size: 10pt; background-color: rgb(252, 252, 252); color: rgb(64, 64, 64); font-family: Georgia; line-height: 24px;">等无符号整型, 除非你是在表示一个位组而不是一个数值, 或是你需要定义二进制补码溢出. 尤其是不要为了指出数值永不会为负, 而使用无符号类型. 相反, 你应该使用</span><span style="font-size: 10pt; background-color: rgb(252, 252, 252); color: rgb(64, 64, 64); font-family: Georgia; font-weight: bold; line-height: 24px;">断言</span><span style="font-size: 10pt; background-color: rgb(252, 252, 252); color: rgb(64, 64, 64); font-family: Georgia; line-height: 24px;">来保护数据.</span></font></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">64位下的可移植性</span></div></li><li><div><span style="font-size: 10pt; font-family: Georgia;">预处理宏：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">使用宏时要非常谨慎, 尽量以内联函数, 枚举和常量代替之.</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">如果你要宏, 尽可能遵守:</span></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">不要在 </span><span style="background: rgb(252, 252, 252); white-space: nowrap; max-width: 100%; border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">.h</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);"> 文件中定义宏.</span></font></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">在马上要使用时才进行 </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">#define</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">, 使用后要立即 </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">#undef</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">.</span></font></div></li><li><div><span style="background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">不要只是对已经存在的宏使用#undef，选择一个不会冲突的名称；</span></span></div></li><li><div><span style="background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">不要试图使用展开后会导致 C++ 构造不稳定的宏, 不然也至少要附上文档说明其行为.</span></span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">不要用 </span><span style="white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60);">##</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);"> 处理函数，类和变量的名字。</span></font></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">nullptr和NULL：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">整数用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">0</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 实数用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">0.0</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 指针用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">nullptr</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">NULL</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 字符 (串) 用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">'\0'</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">sizeof：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">尽可能用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">sizeof(varname)</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">代替</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">sizeof(type)</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">使用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">sizeof(varname)</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">是因为当代码中变量类型改变时会自动更新——？这个解释怎么理解？</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">auto：</span> <span style="font-size: 10pt; font-family: Georgia;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">可以用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">auto</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">来复制初始化或绑定引用——？</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">auto 在涉及迭代器的循环语句里挺常用</span></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">只在局部变量里用，</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">别用在文件作用域变量，命名空间作用域变量和类数据成员里。永远别列表初始化</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">auto</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">变量。</span></font></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">auto</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">还可以和 C++11 特性「尾置返回类型（trailing return type）」一起用，不过后者只能用在 lambda 表达式里。</span></font></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>auto x(3);  // 圆括号。    它们不是同一回事——x 是 int</div><div>auto y{3};  // 大括号。    y 则是 std::initializer_list&lt;int&gt;.</div></div><ul><li><div>lambda表达式：</div></li><ul><li><div>优点：</div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">传函数对象给 STL 算法，Lambdas 最简易，可读性也好。</span></span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">Lambdas,</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">std::functions</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">和</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">std::bind</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="font-size: 10pt; background-color: rgb(252, 252, 252); font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">可以搭配成通用回调机制（general purpose callback mechanism）；写接收有界函数为参数的函数也很容易了。</span><span style="font-size: 10pt; background-color: rgb(252, 252, 252); font-family: Georgia; color: rgb(227, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">——？</span></span></font></div></li></ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">缺点：</span></span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">Lambdas 的变量捕获略旁门左道，可能会造成悬空指针。</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">Lambdas 可能会失控；层层嵌套的匿名函数难以阅读。</span></span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">结论：</span></div></li><ul><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">按 format 小用 lambda 表达式怡情。</span></span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">禁用默认捕获，捕获都要显式写出来。比起</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">[=](int</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">x)</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">{return</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">x</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">+</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">n;}</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">, 应写成</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">[n](int</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">x)</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">{return</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">x</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">+</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">n;}</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">才对，这样读者也好一眼看出</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">n</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">是被捕获的值。</span></font></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">匿名函数始终要简短，如果函数体超过了五行，那么还不如起名（即把 lambda 表达式赋值给对象），或改用函数。</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">如果可读性更好，就显式写出 lambd 的尾置返回类型，就像auto.</span></span></div></li></ul></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">模板编程：</span><span style="font-size: 10pt; font-family: Georgia;"> 除了优点外，</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">大量的使用模板编程接口会让重构工具</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="font-size: 10pt; background-color: rgb(252, 252, 252); color: rgb(227, 0, 0); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">(Visual Assist X, Refactor for C++</span></span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">等等)更难发挥用途. 首先模板的代码会在很多上下文里面扩展开来, 所以很难确认重构对所有的这些展开的代码有用, 其次有些重构工具只对已经做过模板类型替换的代码的AST 有用. 因此重构工具对这些模板实现的原始代码并不有效, 很难找出哪些需要重构.</span></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">结论：</span><span style="background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">模板编程最好只用在少量的基础组件, 基础数据结构上, 因为模板带来的额外的维护成本会被大量的使用给分担掉</span></font></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">boost库：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(219, 250, 244); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">只使用 Boost 中被认可的库：</span></div></li></ul><div><span style="font-size: 12pt; color: rgb(64, 64, 64); font-family: Lato;"><img src="编程规范_files/Image.png" type="image/png" data-filename="Image.png" width="652"/></span></div><div><span style="font-size: 11pt; font-weight: bold;">命名约定</span>：</div><ul><li><div>文件命名：</div></li><ul><li><div><span style="font-size: 10pt; font-family: Georgia;">全部小写，</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">可以包含下划线 (</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">_</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">) 或连字符 (</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">-</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">), 依照项目的约定. 如果没有约定, 那么 “</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">_</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">” 更好.</span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">C++ 文件要以</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">.cc</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">结尾, 头文件以</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">.h</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">结尾. 专门插入文本的文件则以</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">.inc</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">结尾, 参见</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/headers/#self-contained-headers" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(155, 89, 182); font-variant-caps: normal; font-variant-ligatures: normal;">头文件自足</a></font></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">定义类时文件名一般成对出现，</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">如</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">foo_bar.h</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">和</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">foo_bar.cc</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 对应于类</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">FooBar</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">内联函数必须放在</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">.h</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">文件中. 如果内联函数比较短, 就直接放在</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">.h</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><span style="font-size: 10pt; background-color: rgb(252, 252, 252); font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">中.——</span><span style="font-size: 10pt; background-color: rgb(252, 252, 252); font-family: Georgia; color: rgb(227, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">为什么是必须？</span></span></font></div></li></ul><li><div><span style="font-size: 10pt; font-family: Georgia;">类型命名：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">所有类型命名类, 结构体, 类型定义 (</span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">typedef</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">), 枚举, 类型模板参数 —— 均使用相同约定, 即以大写字母开始, 每个单词首字母均大写, 不包含下划线</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">变量命名：</span></div></li><ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">普通变量：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">变量 (包括函数参数) 和数据成员名一律小写, 单词之间用下划线连接</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">类数据成员：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不管是静态的还是非静态的, 类数据成员都可以和普通变量一样, 但要接下划线.</span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">结构体变量：</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">不管是静态的还是非静态的, 结构体数据成员都可以和普通变量一样, 不用像类接下划线</span></font></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">常量命名：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">声明为</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">constexpr</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">const</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">的变量, 或在程序运行期间其值始终保持不变的, 命名时以 “k” 开头, 大小写混合，如</span><span style="box-sizing: border-box; white-space: pre; overflow: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(0, 112, 32); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.4;">const</span> <span style="box-sizing: border-box; white-space: pre; overflow: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(144, 32, 0); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.4;">int</span> <span style="box-sizing: border-box; white-space: pre; overflow: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.4;">kDaysInAWeek</span> <span style="box-sizing: border-box; white-space: pre; overflow: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(102, 102, 102); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.4;">=</span> <span style="box-sizing: border-box; white-space: pre; overflow: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(32, 128, 80); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.4;">7</span><span style="box-sizing: border-box; white-space: pre; overflow: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.4;">;</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">所有具有静态存储类型的变量 (例如静态变量或全局变量</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">) 都应当以此方式命名</span></div></li><li><div><font face="Georgia" style="font-size: 10pt;"><span style="font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64);">函数命名：</span></font></div></li><ul><li><div><font face="Georgia" style="font-size: 10pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">常规函数使用大小写混合</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">(即 “驼峰变量名” 或 “帕斯卡变量名”), 没有下划线. 对于首字母缩写的单词, 更倾向于将它们视作一个单词进行首字母大写 (例如, 写作</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">StartRpc()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">而非</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; font-family: Georgia; color: rgb(231, 76, 60); font-variant-caps: normal; font-variant-ligatures: normal;">StartRPC()</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; font-family: Georgia; color: rgb(64, 64, 64); font-variant-caps: normal; font-variant-ligatures: normal;">).</span></font></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">取值和设值函数则要求与变量名匹配，</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">一般来说它们的名称与实际的成员变量对应</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">, 但并不强制要求</span></div></li></ul><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">命名空间命名：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">命名空间以小写字母命名. 最高级命名空间的名字取决于项目名称。</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">命名空间中的代码, 应当存放于和命名空间的名字匹配的文件夹或其子文件夹中.</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">注意</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/naming/#general-naming-rules" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(155, 89, 182); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">不使用缩写作为名称</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">的规则同样适用于命名空间</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">枚举命名：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">枚举的命名应当和</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/naming/#constant-names" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(155, 89, 182); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">常量</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/naming/#macro-names" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(155, 89, 182); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">宏</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">一致:</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">kEnumName</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">或是</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; white-space: nowrap; max-width: 100%; background: rgb(255, 255, 255); border: 1px solid rgb(225, 228, 229); overflow-x: auto; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(231, 76, 60); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">ENUM_NAME</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">.</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">单独的枚举值应该优先采用</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/naming/#constant-names" style="box-sizing: border-box; cursor: pointer; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(155, 89, 182); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">常量</a><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">的命名方式</span></div></li></ul><div><span style="font-size: 11pt; font-weight: bold;">格式</span>：</div><ul><li><div><span style="font-size: 10pt; font-family: Georgia;">行长度：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">每一行代码字符数不超过 80.</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">非ASCII字符：</span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252); font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia; font-variant-caps: normal; font-variant-ligatures: normal;">尽量不使用非 ASCII 字符, 使用时必须使用 UTF-8 编码.——这个怎么区分？</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">空格缩进</span></div></li><li><div><span style="font-size: 10pt; color: rgb(64, 64, 64); font-family: Georgia;">函数声明与定义</span></div></li></ul><div><br/></div><div><span style="font-size: 11pt; font-family: Georgia; font-weight: bold;">cpplint使用总结</span>：</div></div><div><br/></div></span>
</div></body></html> 