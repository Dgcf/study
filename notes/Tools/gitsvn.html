<html>
<head>
  <title>git/svn</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/604043 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="668"/>
<h1>git/svn</h1>

<div>
<span><div><div><div><span style="font-size: unset; color: unset; font-family: unset;"><b>Git：</b></span></div><ul><li><div>github操作：</div></li><ul><li><div>现有本地文件上传github新建仓库：</div></li></ul></ul><ul><ul><ul><li><div>git init </div></li><li><div>git add .</div></li><ul><li><div>如果git add错了的话git reset HEAD，后面什么都不跟就是上一次add里面的全部撤销了，git reset HEAD XXX/XXX/XXX.java 就是对某个文件进行撤销了——之前的内容还在的</div></li></ul><li><div>git commit -m &quot;xxx&quot;</div></li><li><div>git remote add origin <a href="mailto:git@xxx" shape="rect" target="_blank">git@xxx</a>      关联到远程github仓库</div></li><li><div><span style="color: rgb(65, 173, 28);">git branch --set-upstream-to=origin/master master         设置当前分支跟踪的远程分支——直接用这一步会提示没有origin/master这个分支，所以先git pull等报错后再使用这一步</span></div></li><li><div><span style="color: rgb(65, 173, 28);">git pull --allow-unrelated-histories 使用git pull整合远程仓库和本地仓库，忽略版本不同造成的影响（studytest上传的时候这两步没用到）</span></div></li><li><div>gtihub提交：git push origin HEAD:master</div></li></ul></ul></ul><ul><li><div>本地文件有修改，pull时会有冲突，有三种解决办法：</div></li><ul><li><div>先提交，再拉：git add.; git commit -m &quot;&quot;; git push origin...</div></li><li><div><span style="color: unset; font-family: unset; font-size: unset;">先把自己修改的内容藏起来：</span></div></li></ul></ul><ul><ul><ul><li><div>git stash(先把自己修改的存储起来)或 git stash save &quot;备注信息&quot;;</div></li><li><div>git pull; git stash pop(再把存储的代码拿出来，在本地仓库自动合并)；</div></li><li><div>git stash list可以看到git stash保存的信息； git stash clear清空stash栈； git diff -w +文件名 来确认代码自动合并的情况</div></li><li><div>git stash drop将没用的记录删除掉。</div></li></ul></ul><li><div>以远程分支为准，放弃本地修改：git reset --hard; git pull——<span style="font-weight: bold;">如果已经出现冲突，并不能</span></div></li><li><div>解除远程仓库：git remote rm github（github 是远程仓库在本地Git中的名称）</div></li></ul><ul><li><div>分支操作：</div></li><ul><li><div><span style="color: unset; font-family: unset; font-size: unset;">查看分支：git branch -va</span></div></li><li><div><span style="color: unset; font-family: unset; font-size: unset;">删除本地分支: git branch -d xx；强制删除：-D</span></div></li><li><div><span style="color: unset; font-family: unset; font-size: unset;">删除远程分支：git push origin --delete &lt;BranchName&gt;</span></div></li><li><div><span style="color: unset; font-family: unset; font-size: unset;">创建分支：git checkout -b 本地分支 远程分支名</span></div></li><li><div><span style="color: unset; font-family: unset; font-size: unset;">切换分支 git checkout 18b</span></div></li></ul><li><div>git清除缓存命令git rm -r --cached .</div></li><ul><li><div>git rm -r --cached XX         // 删除文件夹</div></li></ul><li><div>撤销add和<span style="color: unset; font-family: unset; font-size: unset;">撤回commit：git reset --soft HEAD^，仅撤回commit， 你进行了2次commit，想都撤回，可以使用HEAD~2</span></div></li><ul><li><div>--mixed：不删除工作空间改动代码，撤销commit，并且撤销git add . 操作<span style="color: unset; font-family: unset; font-size: unset;">这个为默认参数,git reset --mixed HEAD^ 和 git reset HEAD^ 效果是一样的。</span></div></li><li><div>--soft：不删除工作空间改动代码，撤销commit，不撤销git add . </div></li><li><div>--hard：<span style="-en-paragraph:true;">删除工作空间改动代码，撤销commit，撤销git add . </span><span style="color: unset; font-family: unset; font-size: unset;">注意完成这个操作后，就恢复到了上一次的commit状态</span></div></li></ul><li><div>提交：</div></li><ul><li><div>git checkout ./文件名 删除这个文件，同git库保持一致</div></li><li><div>修改commit的注释：git commit --amend</div></li><li><div>提交不成功但提交了一部分，想退回到之前的版本：git reset --hard 【git log查看上一个版本commit值】</div></li></ul><li><div>下拉合并：</div></li><ul><li><div>git pull origin master --allow-unrelated-histories</div></li><li><div>强制覆盖本地文件：<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 244, 245); color: rgb(0, 0, 0); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-variant-caps: normal; font-variant-ligatures: common-ligatures;">git fetch</span></div></li></ul></ul><ul><li><div>查看：</div></li><ul><li><div>git查看某个文件的修改历史：git log --pretty=oneline 文件名</div></li><li><div>git show 356f6def9d3fb7f3b9032ff5aa4b9110d4cca87e 显示修改历史</div></li><li><div>查看两个版本之间修改了哪些文件：git diff &lt;commit id&gt; &lt;commit id&gt;</div></li><li><div>查看自己的提交的log： git reflog</div></li><li><div>查看暂存前后的变化 git diff</div></li><li><div>查看已暂存起来的变化 git diff --cached</div></li><li><div>查看是谁做的历史修改：git blame [filename]</div></li><li><div><span style="color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">查看add内容：</span><span style="color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">git ls-files</span></div></li></ul></ul><ul><li><div>git去掉不需要上传的文件：</div></li></ul><ul><ul><li><div>忽略新增文件：创建编辑.gitignore（windows下无法建立.开头的文件，需要在gitbash中使用vim创建），在后面加上需要忽略的文件，如log/*（*代表忽略该目录下的所有文件）</div></li><li><div>忽略已存在缓冲区的文件：git update-index --assume-unchanged PATH/FILE，如git update-index --assume-unchanged config/config.txt</div></li><li><div>已经存在缓冲区，但希望以后从缓冲区移除，也不用追踪该文件，该文件变化或者不变化都不影响git status的结果：git rm --cached testFile //将该文件从缓冲区移除永远不追踪该文件</div></li></ul><li><div>版本回退：</div></li><ul><li><div>git reset --hard XXX:</div></li><li><div>HEAD是当前版本，HEAD^是上一版本，HEAD^^是上上版本等，HEAD commitID，是某个commitID的版本</div></li></ul><li><div><span style="color: unset; font-family: unset; font-size: unset;">windows下安装配置及问题汇总：</span></div></li><ul><li><div><span style="color: unset; font-family: unset; font-size: unset;">windows下配置github公钥：</span><a href="https://zhuanlan.zhihu.com/p/122562060" style="font-family: unset; font-size: unset;">https://zhuanlan.zhihu.com/p/122562060</a></div></li><li><div><span style="color: unset; font-family: unset; font-size: unset;">gitbash中git status显示的是数字：</span> <span style="color: unset; font-size: 12px; background-color: rgb(245, 245, 245); font-family: &quot;Courier New&quot;;">git config --global core.quotepath</span><span style="color: unset; font-size: 12px; background-color: rgb(245, 245, 245); font-family: &quot;Courier New&quot;;"> </span><span style="font-size: 12px; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; line-height: 1.5;">false 就显示汉字了</span></div></li></ul></ul></div><div><br/></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">svn：</span></font></div><ul><li><div>Linux：</div></li><ul><li><div>svn co xxx：从svn上下载</div></li><li><div>svn up：更新</div></li><li><div>svn up -r version：更新到version版本</div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">svn revert [-R] xxx_file_dir 取消所作的修改</span></div></li><li><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">svn log -l n：查看前n个日志</span></div></li><li><div><span style="color: unset; font-family: unset; font-size: 10pt; line-height: 1.5;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Verdana;">svn diff path：</span></span> <span style="color: unset; font-family: unset; font-size: 10pt; line-height: 1.5;">默认将path与基础版本比较。</span></div></li></ul></ul></div><div><br clear="none"/></div></span>
</div></body></html> 